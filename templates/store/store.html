{% extends 'base.html' %}
{% load static %}

{% block content %}

    <!-- breadcrumb section strats here -->
    <div class="breadcrumb-section mb-100" style="background-image: linear-gradient(180deg, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.35)), url('{% static "assets/image/inner-page/store.png" %}');">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 d-flex justify-content-center">
                    <div class="banner-content style-2 text-center">
                        {% if 'search' in request.path %}
                            <h1>Search results</h1>
                        {% else %}
                            <h1>Our Store</h1>
                        {% endif %}

                        <ul class="breadcrumb-list">
                            <li><a href={% url 'home' %}>Home</a></li>
                            <li><span>/</span> {% if 'search' in request.path %}
                            Search results
                        {% else %}
                            Our Store

                        {% endif %}
                            </li>{% if 'brand' in request.path %}
                            <li class="">
                                <span>/</span> {% if products %}
    {{ products.0.brand }}
{% endif %}
                            </li>
                        {% endif %}
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- breadcrumb section ends here -->
 <!-- product-card section strats here -->
    <div class="product-card-section mb-100">
        <div class="container">
            <div class="row gy-5">
                <div class="col-lg-3 order-lg-1 order-2 wow animate fadeInLeft" data-wow-delay="200ms" data-wow-duration="1500ms">
                    <div class="sidebar-area">
                        <div class="single-widgets widget_search mb-70">


                            <form action="{% url 'search' %}" class="search" method="GET">
                                <div class="wp-block-search__inside-wrapper">
                                    <input type="search" value="" placeholder="Search Product" name="keyword">
                                    <button type="submit">
                                        <svg width="16" height="16" viewBox="0 0 16 16"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M11.7425 10.3418C12.7107 9.0205 13.1444 7.38236 12.9567 5.75508C12.769 4.1278 11.9739 2.63139 10.7303 1.56522C9.48666 0.49905 7.88635 -0.0582469 6.2495 0.0048239C4.61265 0.0678947 3.05997 0.746681 1.90209 1.90538C0.744221 3.06409 0.0665459 4.61725 0.00464636 6.25415C-0.0572531 7.89104 0.501188 9.49095 1.56825 10.7338C2.63531 11.9766 4.13229 12.7707 5.7597 12.9572C7.38711 13.1438 9.02494 12.7089 10.3455 11.7397H10.3445C10.3745 11.7797 10.4065 11.8177 10.4425 11.8547L14.2924 15.7046C14.4799 15.8922 14.7342 15.9977 14.9995 15.9977C15.2647 15.9978 15.5192 15.8926 15.7068 15.7051C15.8944 15.5176 15.9999 15.2632 16 14.9979C16.0001 14.7327 15.8948 14.4782 15.7073 14.2906L11.8575 10.4408C11.8217 10.4046 11.7833 10.3711 11.7425 10.3408V10.3418ZM12.0004 6.4979C12.0004 7.22015 11.8582 7.93532 11.5818 8.60258C11.3054 9.26985 10.9003 9.87614 10.3896 10.3868C9.87889 10.8975 9.2726 11.3027 8.60533 11.5791C7.93807 11.8554 7.2229 11.9977 6.50065 11.9977C5.77841 11.9977 5.06324 11.8554 4.39597 11.5791C3.72871 11.3027 3.12242 10.8975 2.61171 10.3868C2.10101 9.87614 1.6959 9.26985 1.41951 8.60258C1.14312 7.93532 1.00086 7.22015 1.00086 6.4979C1.00086 5.03927 1.5803 3.64037 2.61171 2.60896C3.64312 1.57755 5.04202 0.99811 6.50065 0.99811C7.95929 0.99811 9.35818 1.57755 10.3896 2.60896C11.421 3.64037 12.0004 5.03927 12.0004 6.4979Z" />
                                        </svg>
                                    </button>
                                </div>
                            </form>
                        </div>
                        <div class="single-widgets mb-70">
                            <div class="widget-title">
                                <h5>Shop Catalog</h5>
                            </div>
                            <div class="checkbox-container">
                                <ul class="list-menu">
                                        <li><label class="containerss">

                                            <a href="{% url 'store' %}"> <span> <input type="checkbox"> All Products </span> </a>
                                        </label>
                                        </li>

                                    {% for category in links %}

                                        <li>
                                        <label class="containerss">
                                            <a href="{{ category.get_url }}"><span>{{ category.category_name }} </span></a>
                                        </label>
                                    </li>
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>


{#                        <div class="single-widgets ">#}
{#                            <div class="widget-title">#}
{#                                <h5>Feature product</h5>#}
{#                            </div>#}
{#                            <div class="feature-product-area mb-20">#}
{#                                <div class="feature-product-image">#}
{#                                   <a href="product-details.html"> <img src="assets/image/inner-page/sidebar-product-image.png" alt=""></a>#}
{#                                </div>#}
{#                                <div class="feature-product-content">#}
{#                                    <h6><a href="product-details.html">Ultimate Comfort & Trendy Design</a></h6>#}
{#                                    <p>$150.00 <del>$200.00</del></p>#}
{#                                </div>#}
{#                            </div>#}
{#                            <div class="feature-product-area">#}
{#                                <div class="feature-product-image">#}
{#                                    <a href="product-details.html"><img src="assets/image/inner-page/sidebar-product-image2.png" alt=""></a>#}
{#                                </div>#}
{#                                <div class="feature-product-content">#}
{#                                    <h6><a href="product-details.html">Classic Navy Slim Fit Blazer</a></h6>#}
{#                                    <p>$120.00 <del>$180.00</del></p>#}
{#                                </div>#}
{#                            </div>#}
{#                        </div>#}
                    </div>
                </div>
                <div class="col-lg-9 order-lg-2 order-1">
                    <div class="right-content">
                        <div class="row">
                            <div class="col-lg-12 mb-50">
                                <div class="auction-card-top-area">
                                    <div class="left-content">

                                        <h6><span>{{ product_count }}</span> items found</h6>
                                    </div>
                                    <div class="right-content">
                                        <div class="category-area">
                                            <select>
                                                <option value="1">Default sorting</option>
                                                <option value="2">latest </option>
                                                <option value="2">Best selling </option>
                                                <option value="2">Price Low to high </option>
                                                <option value="2">Price high to low </option>
                                            </select>
                                        </div>
                                        <ul class="size-icon grid-view d-lg-flex d-none">
                                            <li class="column-2">
                                                <svg width="7" height="14" viewBox="0 0 7 14" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M0.75 13.1875L0.749999 0.8125M5.8125 13.1875L5.8125 0.8125"
                                                        stroke="#A0A0A0" stroke-width="1.5" stroke-linecap="round"
                                                        stroke-linejoin="round" />
                                                </svg>
                                            </li>
                                            <li class="column-3 active">
                                                <svg width="10" height="14" viewBox="0 0 10 14" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path
                                                        d="M1.0625 13.1875L1.0625 0.8125M5 13.1875L5 0.8125M8.9375 13.1875L8.9375 0.8125"
                                                        stroke="white" stroke-width="1.5" stroke-linecap="round"
                                                        stroke-linejoin="round" />
                                                </svg>
                                            </li>
                                            <li class="column-4">
                                                <svg width="12" height="14" viewBox="0 0 12 14" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path
                                                        d="M0.9375 13.1875L0.937499 0.8125M4.3125 13.1875L4.3125 0.8125M7.6875 13.1875L7.6875 0.8125M11.0625 13.1875L11.0625 0.8125"
                                                        stroke="#A0A0A0" stroke-width="1.5" stroke-linecap="round"
                                                        stroke-linejoin="round" />
                                                </svg>
                                            </li>
                                            <li class="column-1">
                                                <svg width="14" height="10" viewBox="0 0 14 10" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path
                                                        d="M0.8125 1.0625H13.1875M0.8125 5H13.1875M0.8125 8.9375H13.1875"
                                                        stroke="#A0A0A0" stroke-width="1.5" stroke-linecap="round"
                                                        stroke-linejoin="round" />
                                                </svg>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="list-grid-product-wrap">
                            <div class="row gy-4">
                                {% if products %}
                                    {% for product in products %}
                                <div class="col-lg-4 col-md-6 col-sm-6 item wow animate fadeInDown" data-wow-delay="200ms" data-wow-duration="1500ms">
                                    <div class="product-card">
                                        <div class="product-card-img">
                                            <a href="{{ product.get_url }}">
                                                <img src="{{ product.images.url }}" alt="">
                                                <div class="batch">
{#                                                    <span class="new">23% off</span>#}
                                                    <span>Hot deal</span>
                                                </div>
                                            </a>
                                            <div class="overlay">
                                                <div class="cart-area">
                                                    <a class="add-cart-btn" href="{{ product.get_url }}"><i class="bi bi-bag-check"></i>
                                                        View Details</a>
                                                </div>
                                            </div>
                                            <div class="view-and-favorite-area">
                                                <ul>
                                                    <li>
                                                        <a href="whislist.html">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                                                                viewBox="0 0 18 18">
                                                                <path
                                                                    d="M16.528 2.20919C16.0674 1.71411 15.5099 1.31906 14.8902 1.04859C14.2704 0.778112 13.6017 0.637996 12.9255 0.636946C12.2487 0.637725 11.5794 0.777639 10.959 1.048C10.3386 1.31835 9.78042 1.71338 9.31911 2.20854L9.00132 2.54436L8.68352 2.20854C6.83326 0.217151 3.71893 0.102789 1.72758 1.95306C1.63932 2.03507 1.5541 2.12029 1.47209 2.20854C-0.490696 4.32565 -0.490696 7.59753 1.47209 9.71463L8.5343 17.1622C8.77862 17.4201 9.18579 17.4312 9.44373 17.1868C9.45217 17.1788 9.46039 17.1706 9.46838 17.1622L16.528 9.71463C18.4907 7.59776 18.4907 4.32606 16.528 2.20919ZM15.5971 8.82879H15.5965L9.00132 15.7849L2.40553 8.82879C0.90608 7.21113 0.90608 4.7114 2.40553 3.09374C3.76722 1.61789 6.06755 1.52535 7.5434 2.88703C7.61505 2.95314 7.68401 3.0221 7.75012 3.09374L8.5343 3.92104C8.79272 4.17781 9.20995 4.17781 9.46838 3.92104L10.2526 3.09438C11.6142 1.61853 13.9146 1.52599 15.3904 2.88767C15.4621 2.95378 15.531 3.02274 15.5971 3.09438C17.1096 4.71461 17.1207 7.2189 15.5971 8.82879Z">
                                                                </path>
                                                            </svg>
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <a data-bs-toggle="modal" data-bs-target="#product-view">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22"
                                                                viewBox="0 0 22 22">
                                                                <path
                                                                    d="M21.8601 10.5721C21.6636 10.3032 16.9807 3.98901 10.9999 3.98901C5.019 3.98901 0.335925 10.3032 0.139601 10.5718C0.0488852 10.6961 0 10.846 0 10.9999C0 11.1537 0.0488852 11.3036 0.139601 11.4279C0.335925 11.6967 5.019 18.011 10.9999 18.011C16.9807 18.011 21.6636 11.6967 21.8601 11.4281C21.951 11.3039 21.9999 11.154 21.9999 11.0001C21.9999 10.8462 21.951 10.6963 21.8601 10.5721ZM10.9999 16.5604C6.59432 16.5604 2.77866 12.3696 1.64914 10.9995C2.77719 9.62823 6.58487 5.43955 10.9999 5.43955C15.4052 5.43955 19.2206 9.62969 20.3506 11.0005C19.2225 12.3717 15.4149 16.5604 10.9999 16.5604Z">
                                                                </path>
                                                                <path
                                                                    d="M10.9999 6.64832C8.60039 6.64832 6.64819 8.60051 6.64819 11C6.64819 13.3994 8.60039 15.3516 10.9999 15.3516C13.3993 15.3516 15.3515 13.3994 15.3515 11C15.3515 8.60051 13.3993 6.64832 10.9999 6.64832ZM10.9999 13.9011C9.40013 13.9011 8.09878 12.5997 8.09878 11C8.09878 9.40029 9.40017 8.0989 10.9999 8.0989C12.5995 8.0989 13.9009 9.40029 13.9009 11C13.9009 12.5997 12.5996 13.9011 10.9999 13.9011Z">
                                                                </path>
                                                            </svg>
                                                        </a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="product-card-content">

                                            <h6><a class="hover-underline" href="{{ product.get_url }}">{{ product.product_name }}</a>
                                            </h6> Brand: <a href="{{ product.brand.get_url }}">{{ product.brand }}</a> <span> / </span> Category: {{ product.category }}
                                            <p class="price">${{ product.price }} </p>

                                        </div>
                                    </div>
                                </div>
                                {% endfor %}
    {% else %}
    	<div class="col-md-4">
        No results found.
        </div>
{% endif %}

                            </div>
                        </div>

                    {% if products.has_other_pages %}
                        <div class="row wow animate fadeInUp" data-wow-delay="200ms" data-wow-duration="1500ms">
                            <div class="col-lg-12">
                                <div
                                    class="page-navigation-area d-flex flex-wrap align-items-center justify-content-between">
                                     {% if products.has_previous %}
                                    <div class="prev-next-btn">
                                        <a href="?page={{ products.previous_page_number }}">
                                            <svg width="7" height="14" viewBox="0 0 7 14"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path d="M0 7.00008L7 0L2.54545 7.00008L7 14L0 7.00008Z" />
                                            </svg>
                                            prev
                                        </a>
                                    </div>
                                    {% else %}<div class="prev-next-btn">
                                        <a href="#">
                                            <svg width="7" height="14" viewBox="0 0 7 14"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path d="M0 7.00008L7 0L2.54545 7.00008L7 14L0 7.00008Z" />
                                            </svg>
                                            prev
                                        </a>
                                    </div>
                                    {% endif %}

 <ul class="pagination">
                                {% for i in products.paginator.page_range %}

                                    {% if products.number == i %}

                                        <li><a href="#">{{ i }}</a></li>


                                 {% else %}

                                        <li class="active"><a href="?page={{ i }}">{{ i }}</a></li>

                                 {% endif %}

                                {% endfor %}</ul>

                                {% if products.has_next %}
                                    <div class="prev-next-btn">
                                        <a href="?page={{ products.next_page_number }}">
                                            next
                                            <svg width="7" height="14" viewBox="0 0 7 14"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path d="M7 7.00008L0 0L4.45455 7.00008L0 14L7 7.00008Z" />
                                            </svg>
                                        </a>
                                    </div>
                                    {% else %}
                                    <div class="prev-next-btn">
                                        <a href="#">
                                            next
                                            <svg width="7" height="14" viewBox="0 0 7 14"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path d="M7 7.00008L0 0L4.45455 7.00008L0 14L7 7.00008Z" />
                                            </svg>
                                        </a>
                                    </div>
                                    {% endif %}

                                </div>
                            </div>
                        </div>
                    {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- product-card section ends here -->
















{#<!-- ========================= SECTION PAGETOP ========================= -->#}
{#<section class="section-pagetop bg">#}
{#<div class="container">#}
{#    {% if 'search' in request.path %}#}
{#	<h2 class="title-page">Search results</h2>#}
{##}
{#    {% else %}#}
{#    	<h2 class="title-page">Our Store</h2>#}
{#    {% endif %}#}
{##}
{#</div> <!-- container //  -->#}
{#</section>#}
{#<!-- ========================= SECTION INTRO END// ========================= -->#}
{#<section class="section-content padding-y">#}
{#<div class="container">#}
{##}
{#<div class="row">#}
{#	<aside class="col-md-3">#}
{##}
{#<div class="card">#}
{#	<article class="filter-group">#}
{#		<header class="card-header">#}
{#			<a href="#" data-toggle="collapse" data-target="#collapse_1" aria-expanded="true" class="">#}
{#				<i class="icon-control fa fa-chevron-down"></i>#}
{#				<h6 class="title">Categories</h6>#}
{#			</a>#}
{#		</header>#}
{#		<div class="filter-content collapse show" id="collapse_1" style="">#}
{#			<div class="card-body">#}
{##}
{#				<ul class="list-menu">#}
{#                        <li><a href="{% url 'store' %}"> All Products </a></li>#}
{#                    {% for category in links %}#}
{#				        <li><a href="{{ category.get_url }}"> {{ category.category_name }} </a></li>#}
{#                    {% endfor %}#}
{#				</ul>#}
{##}
{#			</div> <!-- card-body.// -->#}
{#		</div>#}
{#	</article> <!-- filter-group  .// -->#}
{#	<article class="filter-group">#}
{#		<header class="card-header">#}
{#			<a href="#" data-toggle="collapse" data-target="#collapse_4" aria-expanded="true" class="">#}
{#				<i class="icon-control fa fa-chevron-down"></i>#}
{#				<h6 class="title">Sizes </h6>#}
{#			</a>#}
{#		</header>#}
{#		<div class="filter-content collapse show" id="collapse_4" style="">#}
{#			<div class="card-body">#}
{#			  <label class="checkbox-btn">#}
{#			    <input type="checkbox">#}
{#			    <span class="btn btn-light"> XS </span>#}
{#			  </label>#}
{##}
{#			  <label class="checkbox-btn">#}
{#			    <input type="checkbox">#}
{#			    <span class="btn btn-light"> SM </span>#}
{#			  </label>#}
{##}
{#			  <label class="checkbox-btn">#}
{#			    <input type="checkbox">#}
{#			    <span class="btn btn-light"> LG </span>#}
{#			  </label>#}
{##}
{#			  <label class="checkbox-btn">#}
{#			    <input type="checkbox">#}
{#			    <span class="btn btn-light"> XXL </span>#}
{#			  </label>#}
{#		</div><!-- card-body.// -->#}
{#		</div>#}
{#	</article> <!-- filter-group .// -->#}
{##}
{#	<article class="filter-group">#}
{#		<header class="card-header">#}
{#			<a href="#" data-toggle="collapse" data-target="#collapse_3" aria-expanded="true" class="">#}
{#				<i class="icon-control fa fa-chevron-down"></i>#}
{#				<h6 class="title">Price range </h6>#}
{#			</a>#}
{#		</header>#}
{#		<div class="filter-content collapse show" id="collapse_3" style="">#}
{#			<div class="card-body">#}
{##}
{#				<div class="form-row">#}
{#				<div class="form-group col-md-6">#}
{#				  <label>Min</label>#}
{#				  <!-- <input class="form-control" placeholder="$0" type="number"> -->#}
{#				  	<select class="mr-2 form-control">#}
{#						<option value="0">$0</option>#}
{#						<option value="50">$50</option>#}
{#						<option value="100">$100</option>#}
{#						<option value="150">$150</option>#}
{#						<option value="200">$200</option>#}
{#						<option value="500">$500</option>#}
{#						<option value="1000">$1000</option>#}
{#					</select>#}
{#				</div>#}
{#				<div class="form-group text-right col-md-6">#}
{#				  <label>Max</label>#}
{#				  	<select class="mr-2 form-control">#}
{#						<option value="50">$50</option>#}
{#						<option value="100">$100</option>#}
{#						<option value="150">$150</option>#}
{#						<option value="200">$200</option>#}
{#						<option value="500">$500</option>#}
{#						<option value="1000">$1000</option>#}
{#						<option value="2000">$2000+</option>#}
{#					</select>#}
{#				</div>#}
{#				</div> <!-- form-row.// -->#}
{#				<button class="btn btn-block btn-primary">Apply</button>#}
{#			</div><!-- card-body.// -->#}
{#		</div>#}
{#	</article> <!-- filter-group .// -->#}
{##}
{#</div> <!-- card.// -->#}
{##}
{#	</aside> <!-- col.// -->#}
{#	<main class="col-md-9">#}
{##}
{#<header class="border-bottom mb-4 pb-3">#}
{#		<div class="form-inline">#}
{#			<span class="mr-md-auto"> <b>{{ product_count }}</b> Items found </span>#}
{##}
{#		</div>#}
{#</header><!-- sect-heading -->#}
{##}
{#<div class="row">#}
{#{% if products %}#}
{#{% for product in products %}#}
{#	<div class="col-md-4">#}
{#		<figure class="card card-product-grid">#}
{#			<div class="img-wrap">#}
{#                <a href="{{ product.get_url }}"><img src="{{ product.images.url }}"> </a>#}
{##}
{#			</div> <!-- img-wrap.// -->#}
{#			<figcaption class="info-wrap">#}
{#				<div class="fix-height">#}
{#					<a href="{{ product.get_url }}" class="title">{{ product.product_name }}</a>#}
{#					<div class="price-wrap mt-2">#}
{#						<span class="price">{{ product.price }}</span>#}
{#					<!--	<del class="price-old">$1980</del> -->#}
{#					</div> <!-- price-wrap.// -->#}
{#				</div>#}
{#				<a href="{{ product.get_url }}" class="btn btn-block btn-primary"> View details </a>#}
{#			</figcaption>#}
{#		</figure>#}
{#	</div> <!-- col.// -->#}
{#{% endfor %}#}
{#    {% else %}#}
{#    	<div class="col-md-4">#}
{#        No results found.#}
{#        </div>#}
{#{% endif %}#}
{#</div> <!-- row end.// -->#}
{##}
{##}
{#<nav class="mt-4" aria-label="Page navigation sample">#}
{#    {% if products.has_other_pages %}#}
{#  <ul class="pagination">#}
{#  {% if products.has_previous %}#}
{#    <li class="page-item"><a class="page-link" href="?page={{ products.previous_page_number }}">Previous</a></li>#}
{#  {% else %}#}
{#    <li class="page-item disabled"><a class="page-link" href="#">Previous</a></li>#}
{#  {% endif %}#}
{##}
{#    {% for i in products.paginator.page_range %}#}
{#        {% if products.number == i %}#}
{#            <li class="page-item active"><a class="page-link" href="#">{{ i }}</a></li>#}
{#        {% else %}#}
{#            <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>#}
{#        {% endif %}#}
{#    {% endfor %}#}
{#    {% if products.has_next %}#}
{#        <li class="page-item"><a class="page-link" href="?page={{ products.next_page_number }}">Next</a></li>#}
{#    {% else %}#}
{#        <li class="page-item disabled"><a class="page-link" href="#">Next</a></li>#}
{#    {% endif %}#}
{#  </ul>#}
{#    {% endif %}#}
{#</nav>#}
{##}
{#	</main> <!-- col.// -->#}
{##}
{#</div>#}
{##}
{#</div> <!-- container .//  -->#}
{#</section>#}
{% endblock %}